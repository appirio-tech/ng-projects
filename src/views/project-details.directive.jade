loader(ng-show="vm.loading")

.confirm.transition.claim.flex.middle.center(ng-class="{ active: vm.showConfirmClaim }")
  p(ng-hide="vm.claimed") Are you sure you want to claim this project?

  .flex.bottom(ng-show="vm.claimed")
    .icon.checkmark-white.small

    h5 Project claimed!

  button.hollow(
    ng-click="vm.claim()"
    ng-hide="vm.claiming || vm.claimed"
    ng-disabled="!vm.canUpdate"
  ) yes, claim it!

  button.hollow(
    ng-click="vm.showConfirmClaim = !vm.showConfirmClaim"
    ng-hide="vm.claiming || vm.claimed"
    ng-disabled="!vm.canUpdate"
  ) cancel

  .loader-house(ng-show="vm.claiming")
    loader

.confirm.launch.flex.middle.center(ng-class="{ active: vm.showConfirmLaunch }")
  p(ng-hide="vm.launched") Are you sure you want to launch this project?

  .flex.bottom(ng-show="vm.launched")
    .icon.checkmark-white.small

    h5 Project launched!

  button.hollow(
    ng-click="vm.launch()"
    ng-hide="vm.launching || vm.launched"
    ng-disabled="!vm.canUpdate"
  ) yes, launch it!

  button.hollow(
    ng-click="vm.showConfirmlaunch = !vm.showConfirmlaunch"
    ng-hide="vm.launching || vm.launched"
    ng-disabled="!vm.canUpdate"
  ) cancel

  .loader-house(ng-show="vm.launching")
    loader

estimate-project.transition.dark-bg(
  project-id="{{ vm.id }}"
  ng-if="vm.userType == 'COPILOT'"
  ng-class="{ active: vm.claimed }"
  permissions="vm.permissions"
)

.flex.rows
  .house.nav
    button.action.claim(
      ng-if="vm.userType == 'COPILOT' && !vm.claimed"
      ng-hide="vm.showConfirmClaim"
      ng-click="vm.showConfirmClaim = !vm.showConfirmClaim"
      ng-disabled="!vm.canUpdate"
    ) claim project

    button.action.launch(
      ng-if="vm.userType == 'COPILOT' && vm.estimateAccepted"
      ng-hide="vm.showConfirmLaunch"
      ng-click="vm.showConfirmLaunch = !vm.showConfirmLaunch; vm.showConfirmClaim = false"
      ng-disabled="!vm.canUpdate"
    ) launch project

    ul
      li
        button.clean(scroll-element="proect-details-setup") basic details

      li
        button.clean(scroll-element="project-details-features") features

      li
        button.clean(scroll-element="project-details-design") visual design

      li
        button.clean(scroll-element="project-details-development") development

  ul.requirements.flex-grow(ng-hide="vm.loading")
    li(id="project-details-setup")
      include details/setup

    li(id="project-details-features")
      include details/features

    li(id="project-details-design")
      include details/design

    li(id="project-details-development")
      include details/development

